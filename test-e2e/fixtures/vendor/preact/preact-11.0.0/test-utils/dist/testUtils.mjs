import{options as t}from"preact";function o(){return t.t=t.debounceRendering,t.debounceRendering=o=>t.o=o,()=>t.o&&t.o()}const r=t=>null!=t&&"function"==typeof t.then;let e=0;function n(n){if(++e>1){const t=n();return r(t)?t.then(()=>{--e}):(--e,Promise.resolve())}const i=t.requestAnimationFrame,f=o();let u,l;t.requestAnimationFrame=t=>u=t;const s=()=>{try{for(f();u;)l=u,u=null,l(),f();c()}catch(t){d||(d=t)}t.requestAnimationFrame=i,--e};let d,h;try{h=n()}catch(t){d=t}if(r(h))return h.then(s,t=>{throw s(),t});if(s(),d)throw d;return Promise.resolve()}function c(){t.o&&(t.o(),delete t.o),void 0!==t.t?(t.debounceRendering=t.t,delete t.t):t.debounceRendering=void 0}export{n as act,o as setupRerender,c as teardown};
//# sourceMappingURL=testUtils.mjs.map
